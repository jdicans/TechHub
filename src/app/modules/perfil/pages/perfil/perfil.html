<div class="perfil-container">
  <header class="perfil-header">
    <div class="header-content">
      <div class="avatar-section">
        <span class="avatar-large">{{ perfil.avatar }}</span>
      </div>
      <div class="header-info">
        @if (!editando) {
          <h1>{{ perfil.nombre }}</h1>
          <p class="rol">{{ perfil.rol }}</p>
        } @else {
          <input type="text" [(ngModel)]="perfilEditado.nombre" class="edit-input" placeholder="Nombre">
          <input type="text" [(ngModel)]="perfilEditado.rol" class="edit-input" placeholder="Rol">
        }
      </div>
      <div class="header-actions">
        @if (!editando) {
          <button class="btn-editar" (click)="activarEdicion()">Editar Perfil</button>
        } @else {
          <button class="btn-guardar" (click)="guardarCambios()">Guardar</button>
          <button class="btn-cancelar" (click)="cancelarEdicion()">Cancelar</button>
        }
      </div>
    </div>
  </header>

  <div class="perfil-body">
    <section class="perfil-section">
      <h2 class="section-title">Sobre mÃ­</h2>
      <div class="section-content">
        @if (!editando) {
          <p class="bio">{{ perfil.bio }}</p>
        } @else {
          <textarea [(ngModel)]="perfilEditado.bio" class="edit-textarea" placeholder="BiografÃ­a" rows="4"></textarea>
        }
      </div>
    </section>

    <section class="perfil-section">
      <h2 class="section-title">InformaciÃ³n de Contacto</h2>
      <div class="section-content">
        <div class="info-grid">
          <div class="info-item">
            <span class="info-icon">ğŸ“§</span>
            <div class="info-content">
              <span class="info-label">Email</span>
              @if (!editando) {
                <span class="info-value">{{ perfil.email }}</span>
              } @else {
                <input type="email" [(ngModel)]="perfilEditado.email" class="edit-input-small" placeholder="Email">
              }
            </div>
          </div>

          <div class="info-item">
            <span class="info-icon">ğŸ“</span>
            <div class="info-content">
              <span class="info-label">UbicaciÃ³n</span>
              @if (!editando) {
                <span class="info-value">{{ perfil.ubicacion }}</span>
              } @else {
                <input type="text" [(ngModel)]="perfilEditado.ubicacion" class="edit-input-small" placeholder="UbicaciÃ³n">
              }
            </div>
          </div>

          <div class="info-item">
            <span class="info-icon">ğŸ¢</span>
            <div class="info-content">
              <span class="info-label">Empresa</span>
              @if (!editando) {
                <span class="info-value">{{ perfil.empresa }}</span>
              } @else {
                <input type="text" [(ngModel)]="perfilEditado.empresa" class="edit-input-small" placeholder="Empresa">
              }
            </div>
          </div>

          <div class="info-item">
            <span class="info-icon">ğŸŒ</span>
            <div class="info-content">
              <span class="info-label">Website</span>
              @if (!editando) {
                <a [href]="perfil.website" target="_blank" class="info-link">{{ perfil.website }}</a>
              } @else {
                <input type="url" [(ngModel)]="perfilEditado.website" class="edit-input-small" placeholder="Website">
              }
            </div>
          </div>

          <div class="info-item">
            <span class="info-icon">ğŸ’»</span>
            <div class="info-content">
              <span class="info-label">GitHub</span>
              @if (!editando) {
                <span class="info-value">{{ perfil.github }}</span>
              } @else {
                <input type="text" [(ngModel)]="perfilEditado.github" class="edit-input-small" placeholder="GitHub">
              }
            </div>
          </div>

          <div class="info-item">
            <span class="info-icon">ğŸ’¼</span>
            <div class="info-content">
              <span class="info-label">LinkedIn</span>
              @if (!editando) {
                <span class="info-value">{{ perfil.linkedin }}</span>
              } @else {
                <input type="text" [(ngModel)]="perfilEditado.linkedin" class="edit-input-small" placeholder="LinkedIn">
              }
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="perfil-section">
      <h2 class="section-title">Skills</h2>
      <div class="section-content">
        <div class="tags-container">
          @if (!editando) {
            @for (skill of perfil.skills; track skill) {
              <span class="tag skill-tag">{{ skill }}</span>
            }
          } @else {
            @for (skill of perfilEditado.skills; track skill; let i = $index) {
              <span class="tag skill-tag editable">
                {{ skill }}
                <button class="tag-remove" (click)="eliminarSkill(i)">Ã—</button>
              </span>
            }
            <input type="text" (keydown)="agregarSkill($event)" class="tag-input" placeholder="Agregar skill (Enter)">
          }
        </div>
      </div>
    </section>

    <section class="perfil-section">
      <h2 class="section-title">Intereses</h2>
      <div class="section-content">
        <div class="tags-container">
          @if (!editando) {
            @for (interes of perfil.intereses; track interes) {
              <span class="tag interes-tag">{{ interes }}</span>
            }
          } @else {
            @for (interes of perfilEditado.intereses; track interes; let i = $index) {
              <span class="tag interes-tag editable">
                {{ interes }}
                <button class="tag-remove" (click)="eliminarInteres(i)">Ã—</button>
              </span>
            }
            <input type="text" (keydown)="agregarInteres($event)" class="tag-input" placeholder="Agregar interÃ©s (Enter)">
          }
        </div>
      </div>
    </section>
  </div>
</div>
